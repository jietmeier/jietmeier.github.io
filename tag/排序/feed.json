{
    "version": "https://jsonfeed.org/version/1",
    "title": "jietmeier's blog • All posts by \"排序\" tag",
    "description": "",
    "home_page_url": "http://jietmeier.gitee.io",
    "items": [
        {
            "id": "http://jietmeier.gitee.io/2020/10/sort/",
            "url": "http://jietmeier.gitee.io/2020/10/sort/",
            "title": "排序算法",
            "date_published": "2020-10-13T05:28:00.000Z",
            "content_html": "<h3 id=\"归并排序\"><a class=\"markdownIt-Anchor\" href=\"#归并排序\">#</a> 归并排序</h3>\n<h4 id=\"思路\"><a class=\"markdownIt-Anchor\" href=\"#思路\">#</a> 思路</h4>\n<p>对于一个长度为 n 的数组，先分成两个长度为 n/2 的子数组，对于两个数组分别排序，排好序后再合并。</p>\n<h4 id=\"代码\"><a class=\"markdownIt-Anchor\" href=\"#代码\">#</a> 代码</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;cstdio&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">递归的归并排序</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">int</span> a[<span class=\"number\">100005</span>];</span><br><span class=\"line\"><span class=\"comment\">// int cnt=0;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">sort</span><span class=\"params\">(<span class=\"keyword\">int</span> *first, <span class=\"keyword\">int</span> *last)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> *midInx=first + (last-first)/<span class=\"number\">2</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> *i,*j,flag,iFull;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> *tempArray = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[last-first+<span class=\"number\">1</span>]; <span class=\"comment\">// 开一个临时数组</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (last!=first)&#123; <span class=\"comment\">// 当序列中超过1个数时↓       </span></span><br><span class=\"line\">        <span class=\"comment\">// 分成两个子序列,分别对两个子序列排序</span></span><br><span class=\"line\">        sort(first,midInx);</span><br><span class=\"line\">        sort(midInx+<span class=\"number\">1</span>,last);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//合并两个子序列↓</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i = first, j = midInx+<span class=\"number\">1</span>, flag=<span class=\"number\">0</span>; i &lt;= midInx &amp;&amp; j &lt;= last; flag++)&#123; </span><br><span class=\"line\">        <span class=\"comment\">// 较小的数装入tempArray，地址自增</span></span><br><span class=\"line\">        *(tempArray+flag)=*i&lt;*j?*i++:*j++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    iFull=i==midInx+<span class=\"number\">1</span>?<span class=\"number\">1</span>:<span class=\"number\">0</span>; <span class=\"comment\">// 标记i是否出界</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (flag&lt;=last-first)&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 把剩下的数装入tempArray</span></span><br><span class=\"line\">        *(tempArray+flag++)=iFull?*j++:*i++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i = first,j=tempArray; i &lt;= last; i++,j++)&#123; <span class=\"comment\">// 把tempArray中的数copy到[first, last]中</span></span><br><span class=\"line\">        *i=*j;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> []tempArray;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> N;</span><br><span class=\"line\">    <span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;N);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; N; i++)&#123;</span><br><span class=\"line\">        <span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    sort(a,a+N<span class=\"number\">-1</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; N<span class=\"number\">-1</span>; i++)&#123;</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d &quot;</span>,a[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d\\n&quot;</span>,a[N<span class=\"number\">-1</span>]);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"快速排序\"><a class=\"markdownIt-Anchor\" href=\"#快速排序\">#</a> 快速排序</h3>\n<h4 id=\"思路-2\"><a class=\"markdownIt-Anchor\" href=\"#思路-2\">#</a> 思路</h4>\n<p>对于一个数组，先选取一个比较基准。</p>\n<p>把比基准小的数放在左边，比基准大的数放在右边。</p>\n<p>对于已经分在两侧的子数组，重复以上操作。</p>\n<h4 id=\"代码-2\"><a class=\"markdownIt-Anchor\" href=\"#代码-2\">#</a> 代码</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;cstdio&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">int</span> a[<span class=\"number\">100005</span>];</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">递归的快速排序</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">swap</span><span class=\"params\">(<span class=\"keyword\">int</span> *a,<span class=\"keyword\">int</span> *b)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> temp = *a;</span><br><span class=\"line\">    *a = *b;</span><br><span class=\"line\">    *b = temp;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// int cnt=0;</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">sort</span><span class=\"params\">(<span class=\"keyword\">int</span> *first,<span class=\"keyword\">int</span> *last)</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (first == last)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> *i,*j;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> *mid = first + (last - first)/<span class=\"number\">2</span>; <span class=\"comment\">// 选取中间的一个数作为比较基准</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> pivot = *mid;</span><br><span class=\"line\">    swap(mid,last<span class=\"number\">-1</span>);<span class=\"comment\">//放在最后</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (j = first,i=first<span class=\"number\">-1</span>; j &lt; last; j++)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (*j &lt; pivot)&#123;</span><br><span class=\"line\">            i++;</span><br><span class=\"line\">            swap(i,j);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    swap(last<span class=\"number\">-1</span>,i+<span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"comment\">// printf(&quot;i:%d j:%d\\n&quot;,i-first,j-first);</span></span><br><span class=\"line\">    sort(first,i+<span class=\"number\">1</span>);</span><br><span class=\"line\">    sort(i+<span class=\"number\">2</span>,last);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> N,flag=<span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;N);</span><br><span class=\"line\">    <span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[<span class=\"number\">0</span>]);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt; N; i++)&#123;</span><br><span class=\"line\">        <span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class=\"line\">        <span class=\"comment\">// if (a[i]&lt;a[i-1])&#123; // 判断是否已经排好序</span></span><br><span class=\"line\">        <span class=\"comment\">//     flag=1;</span></span><br><span class=\"line\">        <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (flag)&#123;</span><br><span class=\"line\">        sort(a,a+N);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; N; i++)&#123;</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%d &quot;</span>,a[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "C/C++",
                "分治",
                "排序"
            ]
        },
        {
            "id": "http://jietmeier.gitee.io/2020/10/fenzhisort/",
            "url": "http://jietmeier.gitee.io/2020/10/fenzhisort/",
            "title": "归并排序+逆序对",
            "date_published": "2020-10-13T05:28:00.000Z",
            "content_html": "<p><a href=\"https://vjudge.net/problem/HihoCoder-1141/origin\">HihoCoder - 1141</a></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;cstdio&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">int</span> a[<span class=\"number\">100005</span>],t[<span class=\"number\">100005</span>];</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">long</span> <span class=\"keyword\">long</span> ll;</span><br><span class=\"line\"><span class=\"comment\">/*归并排序+逆序对*/</span></span><br><span class=\"line\"><span class=\"function\">ll <span class=\"title\">sort</span><span class=\"params\">(<span class=\"keyword\">int</span> first, <span class=\"keyword\">int</span> last)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (last-first&lt;<span class=\"number\">2</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> mid = (first+last)/<span class=\"number\">2</span>;</span><br><span class=\"line\">    ll ans = sort(first,mid)+sort(mid,last);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> tInx = <span class=\"number\">0</span>,i = first,j = mid;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (i&lt;mid &amp;&amp; j&lt;last)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (a[i]&lt;=a[j])&#123; <span class=\"comment\">// 一定是不大于</span></span><br><span class=\"line\">            t[tInx++]=a[i++];</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            ans+=mid-i; <span class=\"comment\">// 记录逆序对个数</span></span><br><span class=\"line\">            t[tInx++]=a[j++];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (i&lt;mid) t[tInx++]=a[i++];</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (j&lt;last) t[tInx++]=a[j++];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i=first,j=<span class=\"number\">0</span>;i&lt;last;i++,j++) a[i]=t[j];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> N;</span><br><span class=\"line\">    <span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;N);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>;i&lt;N;i++) <span class=\"built_in\">scanf</span>(<span class=\"string\">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class=\"line\">    ll ans=sort(<span class=\"number\">0</span>,N);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%lld\\n&quot;</span>,ans);</span><br><span class=\"line\">    <span class=\"comment\">// for (int i=0;i&lt;N-1;i++)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//     printf(&quot;%d\\n&quot;,a[i]);</span></span><br><span class=\"line\">    <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// printf(&quot;%d\\n&quot;,a[N-1]);</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "C/C++",
                "分治",
                "排序"
            ]
        }
    ]
}